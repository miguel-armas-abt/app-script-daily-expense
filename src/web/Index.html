<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Gesti√≥n de gastos</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.2/flowbite.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Roboto', 'system-ui', '-apple-system', 'Segoe UI', 'sans-serif'] }
        }
      }
    }
  </script>
</head>

<body class="h-full font-sans bg-white text-gray-900 dark:bg-gray-950 dark:text-gray-100">
  <?!= include('Header', { lastCheckDate: lastCheckDate }); ?>

  <div id="globalLoader" class="hidden fixed inset-0 z-[2000] items-center justify-center bg-black/10">
    <div role="status" class="h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-gray-700 dark:border-gray-700 dark:border-t-gray-200"></div>
    <span class="sr-only">Cargando...</span>
  </div>

  <main class="mx-auto w-full max-w-5xl px-3 py-4 pb-24 md:pb-4 md:pl-[72px]">
    <div class="rounded-2xl border border-gray-200 bg-white shadow-sm dark:border-gray-800 dark:bg-gray-900">
      <div class="p-4 md:p-6">
        <div class="mb-4 border-b border-gray-200 dark:border-gray-800">
          <ul class="-mb-px flex flex-wrap gap-2 text-sm font-medium" id="appTabs" data-tabs-toggle="#tabs-content" role="tablist">
            <li role="presentation">
              <button class="inline-flex items-center gap-2 rounded-t-lg border-b-2 border-transparent px-3 py-2 text-gray-600 hover:text-gray-900 hover:border-gray-300 dark:text-gray-300 dark:hover:text-white"
                      id="tab-search-btn" data-tabs-target="#tab-search" type="button" role="tab" aria-controls="tab-search" aria-selected="true" data-tab-key="search">
                <i class="fa-solid fa-list-ul"></i> Consultar
              </button>
            </li>
          </ul>
        </div>

        <div id="tabs-content">
          <?!= include('ViewSearch', { currencies: currencies, categories: categories }); ?>
        </div>
      </div>
    </div>
  </main>

  <?!= include('ToastsAndModals', { defaultDate: defaultDate, currencies: currencies, categories: categories }); ?>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.2/flowbite.min.js"></script>

  <?!= include('AppCommon', {
      initialTab: initialTab,
      gmailMessageId: gmailMessageId,
      amount: amount,
      currency: currency,
      expenseDate: expenseDate,
      source: source,
      comments: comments,
      category: category,
      currencies: currencies,
      categories: categories
  }); ?>

  <?!= include('AppSave',   { defaultDate: defaultDate }); ?>
  <?!= include('AppUpdate'); ?>
  <?!= include('AppSearch'); ?>
  <?!= include('AppConfig'); ?>
</body>
</html>
